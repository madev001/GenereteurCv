<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org">
<head>
    <title>Carriére</title>
    <link rel="stylesheet" 
href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" 
crossorigin="anonymous"> 
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>
<body>
    <div class="container">
   								 
				<h3 th:text="${utilisateur.nom}+' '+${utilisateur.prenom}"></h3>
								 
								
		      <div class="panel panel-primary">
				  <div class="panel-heading">
				    <h3 class="panel-title">Mes Formation</h3>
				  </div>
				  <div class="panel-body" >
				
				  <form th:action="@{/saveFormation?id=__${utilisateur.id}__}" method="post" th:object="${formation}">
				    	
				    	
				    	<!-- Affichage des formations -->
												    	<div class="card border border-success" style="margin:10px" th:if="${formations != null}" th:each="formation : ${formations}">  
														        <div class="card-body" >
														            
														               <h5 class="card-title text-warning"> Formation</h5>
														            
														            <p class="card-text text-secondary" >
														                <label th:text="${formation.Intitule}"></label></br>
														                <label th:text="${formation.Formation_debut_mois}"></label> <label th:text="${formation.Formation_debut_annee}"></label>-
														                <label th:text="${formation.Formation_fin_mois}"></label> <label th:text="${formation.Formation_fin_annee}"></label>
														            </p>
														        </div>
														        <div class="card-footer text-center">
														        <a class="btn btn-danger btn-sm float-right" th:href="@{/deleteFormation(Formation_id =__${formation.id}__, Utilisateur_id =__${utilisateur.id}__)}" style="color:white"> Supprimer</a>
														        </div>
														    </div>
				<div class="AddForm" style="display:none;">										    
				    	<div class="row "  >
				    	<!-- Ajouter des formations -->
						    <div class="col-lg-6 col-md-6 col-sm-6">
						    <input type="text" class="form-control" placeholder="Formation scolaire" th:field ="*{Intitule}">
						    </div>
						    <div class="col-lg-6 col-md-6 col-sm-6">
						    <input type="text" class="form-control" placeholder="Localité" th:field ="*{Localite}">
						    </div>
				    	</div></br>
				    	<div class="row ">
				    		<div class="col-lg-12 col-md-12 col-sm-12">
				    			<input type="text" class="form-control" placeholder="Etablissement" th:field ="*{Etablissement}">
				    		</div>
				    	</div></br>
				    	<div class="row ">
				    		
				    		<div class="col-lg-6 col-md-4 col-sm-4">
						    <!-- <input type="text" class="form-control" placeholder="Depuis quel  mois" th:field ="*{Formation_debut_mois}"> -->
						    			  <label class="form-check-label" for="depuis">
									    	Depuis :
									  	  </label>
						    <input class="form-control" type="month" name="depuis" th:field ="*{Formation_debut_mois}">
						    </div>
						    <div class="col-lg-6 col-md-4 col-sm-4">
						    <!-- <input type="text" class="form-control" placeholder="Depuis quelle année" th:field ="*{Formation_debut_annee}"> -->
						    			<label class="form-check-label" for="jusqu">
									    	Jusqu'a :
									  	  </label>
						    <input class="form-control" type="month" name="jusqu" th:field ="*{Formation_fin_mois}">
						    		<div class="form-check">
										  <input class="form-check-input" type="checkbox" value="Present" th:field ="*{Formation_fin_mois}" id="checkJusqua">
										  <label class="form-check-label" for="checkJusqua">
									    	Jusqu'a present
									  	  </label>
									</div>
						    </div>
						   <!-- 
						    <div class="col-lg-3 col-md-2 col-sm-2">
						    <input type="text" class="form-control" placeholder="Jusqu'au quel  mois" th:field ="*{Formation_fin_mois}">
						    </div>
						    <div class="col-lg-3 col-md-2 col-sm-2 ">
						    <input type="text" class="form-control" placeholder="Jusqu'au quelle année" th:field ="*{Formation_fin_annee}">
						    </div>
						     -->
				    	</div></br>
				   </div>
				    	<div class="row">
				  			<a  class="add btn btn-warning col-lg-6 col-md-6 col-sm-4 offset-lg-2" style="margin:10px;">Ajouter une Formation</a>
				  			<a class="cancel btn btn-danger" style="display:none;">Annuler</a>
				  			<button type="submit" class="btn btn-primary pull-right rounded-pill" style="margin:10px;">Sauvegarder</button>
				  		</div>
				  		</form>
				  </div>
				  
			</div></br> 	

			<div class="row">
					<a class=" btn btn-info pull-left" >Mes Données personelles</a>
					<a class=" btn btn-info pull-right" th:href="@{/Experiences?id=__${utilisateur.id}__}">Mes Experiences</a>
			</div>

    </div>
</body>
<script>
$('.panel-heading').on('click', function() {
    $(this).next('.panel-body').slideToggle("slow");
    
});


$( ".add" ).click(function() {
	  $( ".AddForm" ).show( "slow" );
	  $( ".add" ).hide( "slow" );
	  $( ".cancel" ).show( "slow" );
	});

$( ".cancel" ).click(function() {
	  $( ".AddForm" ).hide( "slow" );
	  $( ".add" ).show( "slow" );
	  $( ".cancel" ).hide( "slow" );
	});
</script>
</html>